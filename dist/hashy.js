"use strict";!function(){var e=function t(e){var o=this;e||(e={}),this.itemClass=e.itemClass||".hashy-item",this.itemAttr=e.itemAttr||"data-hash",this.triggerClass=e.triggerClass||".hashy-go",this.triggerAttr=e.triggerAttr||"href",this.averageSpeed=e.averageSpeed||100,this.offset=e.offset||0,t.checkElem=function(){var e=function(){var e;return(e=function(){o.scrollOffset=window.pageYOffset||window.scrollTop,null==o.scrollOffset&&(o.scrollOffset=0);var l=t.Elems;l.forEach(function(e){var l=e.offsetTop+t.GlobalOffset,r=e.offsetHeight||e.clientHeight,s=window.innerHeight||document.documentElement.clientHeight;o.scrollOffset+s>l&&o.scrollOffset>l&&o.scrollOffset<l+r&&e!==t.SelectedElem&&(t.selectedElem=e,t.setHash(t.selectedElem.getAttribute(o.itemAttr)))}),t.runtime=requestAnimationFrame(e)})()};e()},t.setHash=function(e){return window.location.hash===e?!1:void(window.location.hash=e)},t.bind=function(e){for(var l=0;l<e.length;l++){var r=e[l];if(o.triggerAttr)var s=o.triggerAttr;else var s=href;r.onclick=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,e.preventDefault(),t.go(e.target.getAttribute(s))}}},t.go=function(e){var l=document.querySelector("["+o.itemAttr+'="'+e+'"]');t.scrollTo(l,e),t.setHash(e)},t.checkOffset=function(e){if("string"==typeof e)var o=t.getHeight(e);else var o=e;return o=-1*o},t.getHeight=function(e){var t=document.querySelectorAll(e)[0],o=window.getComputedStyle(t).height;return o=o.replace("px"),o=parseInt(o)},t.scrollTo=function(e,l){if(cancelAnimationFrame(t.runtime),e.offsetTop<-1*t.GlobalOffset)var r=e.offsetTop+1;else var r=e.offsetTop+1+t.GlobalOffset;if(r>o.scrollOffset)var s=o.scrollOffset,n=r,c=n-s,i=function(){n>s?(s+=c/o.averageSpeed,document.body.scrollTop=s,document.documentElement.scrollTop=s):(document.documentElement.scrollTop=r,document.body.scrollTop=r,t.scrollOffset=r,clearInterval(f),t.checkElem(),t.setHash(l))},f=setInterval(i,1);else var s=o.scrollOffset,n=r,c=s-n,a=function(){s>n?(s-=c/o.averageSpeed,document.body.scrollTop=s,document.documentElement.scrollTop=s):(document.documentElement.scrollTop=r,document.body.scrollTop=r,t.scrollOffset=r,clearInterval(f),t.checkElem(),t.setHash(l))},f=setInterval(a,1)},t.init=function(){t.checkElem(),t.bind(t.TriggerElems)},t.runtime=function(){},t.Elems=[].slice.call(document.querySelectorAll(this.itemClass)),t.TriggerElems=document.querySelectorAll(this.triggerClass),t.ScrollOffset=0,t.SelectedElem=null,t.GlobalOffset=t.checkOffset(this.offset);var l;if(t.doneResize=function(){t.GlobalOffset=t.checkOffset(o.offset),o.scrollOffset=document.documentElement.scrollTop||document.body.scrollTop},window.onresize=function(){clearTimeout(l),l=setTimeout(t.doneResize,100)},window.location.hash.length&&"undefined"!=window.location.hash){var r=window.location.hash.replace("#",""),s=document.querySelector("["+this.itemAttr+'="'+r+'"]');document.documentElement.scrollTop=s.offsetTop+t.GlobalOffset,document.body.scrollTop=s.offsetTop+t.GlobalOffset,this.scrollOffset=document.documentElement.scrollTop||document.body.scrollTop}t.init()};window.hashy=e}();