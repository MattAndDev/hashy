"use strict";!function(){var e=function t(e){var r=this;if(e||(e={}),this.elemClass=e["class"]||".hashy-item",this.dataAttr=e.data||"data-hash",this.triggerClass=e.triggerClass||".hashy-go",this.triggerAttr=e.triggerAttr||"href",this.averageSpeed=e.averageSpeed||100,t.checkElem=function(){var e=function(){var e,o;return o=0,(e=function(){r.scrollOffset=window.pageYOffset||window.scrollTop,void 0===r.scrollOffset&&(r.scrollOffset=0);var o=Array.from(r.elems);o.forEach(function(e){var o=Math.abs(e.offsetTop),n=e.offsetHeight||e.clientHeight,l=window.innerHeight||document.documentElement.clientHeight;r.scrollOffset+l>o&&r.scrollOffset>o&&r.scrollOffset<o+n&&e!==s&&(s=e,t.setHash(s.getAttribute(r.dataAttr)))}),t.runtime=requestAnimationFrame(e)})()};e()},t.setHash=function(e){return window.location.hash===e?!1:void(window.location.hash=e)},t.bind=function(e){for(var o=0;o<e.length;o++){var n=e[o];if(r.triggerAttr)var s=r.triggerAttr;else var s=href;n.onclick=function(e){e.preventDefault(),t.go(e.target.getAttribute(s))}}},t.go=function(e){var o=document.querySelector("["+r.dataAttr+'="'+e+'"]');t.scrollTo(o,e),t.setHash(e)},t.scrollTo=function(e,o){cancelAnimationFrame(t.runtime),console.log(r.averageSpeed);var n=Math.abs(e.offsetTop)+1;if(n>r.scrollOffset)var s=r.scrollOffset,l=n,a=l-s,i=function(){l>s?(s+=a/r.averageSpeed,document.body.scrollTop=s,document.documentElement.scrollTop=s):(clearInterval(c),t.checkElem(),t.setHash(o))},c=setInterval(i,1);else var s=r.scrollOffset,l=n,a=s-l,f=function(){s>l?(s-=a/r.averageSpeed,document.body.scrollTop=s,document.documentElement.scrollTop=s):(clearInterval(c),t.checkElem(),t.setHash(o))},c=setInterval(f,1)},t.init=function(){t.checkElem(),t.bind(r.triggerElems)},window.location.hash.length&&"undefined"!=window.location.hash){var o=window.location.hash.replace("#",""),n=document.querySelector("["+this.dataAttr+'="'+o+'"]');n.scrollIntoView()}this.runtime=function(){},this.elems=document.querySelectorAll(this.elemClass),this.triggerElems=document.querySelectorAll(this.triggerClass),this.scrollOffset=0;var s=null;t.init()};window.hashy=e}();