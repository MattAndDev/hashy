"use strict";!function(){var e=function t(e){var o=this;e||(e={}),this.itemClass=e.itemClass||".hashy-item",this.itemAttr=e.itemAttr||"data-hash",this.triggerClass=e.triggerClass||".hashy-go",this.triggerAttr=e.triggerAttr||"href",this.averageSpeed=e.averageSpeed||100,this.offset=e.offset||0,t.checkElem=function(){var e=function(){var e,n;return n=0,(e=function(){o.scrollOffset=window.pageYOffset||window.scrollTop,null==o.scrollOffset&&(o.scrollOffset=0);var n=Array.from(o.elems);n.forEach(function(e){var n=e.offsetTop+o.globalOffset,l=e.offsetHeight||e.clientHeight,s=window.innerHeight||document.documentElement.clientHeight;o.scrollOffset+s>n&&o.scrollOffset>n&&o.scrollOffset<n+l&&e!==r&&(r=e,t.setHash(r.getAttribute(o.itemAttr)))}),t.runtime=requestAnimationFrame(e)})()};e()},t.setHash=function(e){return window.location.hash===e?!1:void(window.location.hash=e)},t.bind=function(e){for(var r=0;r<e.length;r++){var n=e[r];if(o.triggerAttr)var l=o.triggerAttr;else var l=href;n.onclick=function(e){e.preventDefault(),t.go(e.target.getAttribute(l))}}},t.go=function(e){var r=document.querySelector("["+o.itemAttr+'="'+e+'"]');t.scrollTo(r,e),t.setHash(e)},t.checkOffset=function(e){if("string"==typeof e)var o=t.getHeight(e);else var o=e;return o=-1*o},t.getHeight=function(e){var t,o,r=document.querySelectorAll(e)[0];return document.all?(t=r.currentStyle.height,o=parseInt(r.currentStyle.marginTop,10)+parseInt(r.currentStyle.marginBottom,10),t=t.replace("px",""),t=parseInt(t)):(t=document.defaultView.getComputedStyle(r,"").getPropertyValue("height"),o=parseInt(document.defaultView.getComputedStyle(r,"").getPropertyValue("margin-top"))+parseInt(document.defaultView.getComputedStyle(r,"").getPropertyValue("margin-bottom")),t=t.replace("px",""),t=parseInt(t)),t+o},t.scrollTo=function(e,r){if(cancelAnimationFrame(t.runtime),e.offsetTop<-1*o.globalOffset)var n=e.offsetTop+1;else var n=e.offsetTop+1+o.globalOffset;if(n>o.scrollOffset)var l=o.scrollOffset,s=n,i=s-l,a=function(){s>l?(l+=i/o.averageSpeed,document.body.scrollTop=l,document.documentElement.scrollTop=l):(clearInterval(c),t.checkElem(),t.setHash(r))},c=setInterval(a,1);else var l=o.scrollOffset,s=n,i=l-s,f=function(){l>s?(l-=i/o.averageSpeed,document.body.scrollTop=l,document.documentElement.scrollTop=l):(clearInterval(c),t.checkElem(),t.setHash(r))},c=setInterval(f,1)},t.init=function(){t.checkElem(),t.bind(o.triggerElems)},this.runtime=function(){},this.elems=document.querySelectorAll(this.itemClass),this.triggerElems=document.querySelectorAll(this.triggerClass),this.scrollOffset=0;var r=null;this.globalOffset=t.checkOffset(this.offset);var n;if(t.doneResize=function(){o.globalOffset=t.checkOffset(o.offset)},window.onresize=function(){clearTimeout(n),n=setTimeout(t.doneResize,100)},window.location.hash.length&&"undefined"!=window.location.hash){var l=window.location.hash.replace("#",""),s=document.querySelector("["+this.itemAttr+'="'+l+'"]');document.documentElement.scrollTop=s.offsetTop+this.globalOffset,document.body.scrollTop=s.offsetTop+this.globalOffset}t.init()};window.hashy=e}();