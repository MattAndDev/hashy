!function(e){function t(n){if(o[n])return o[n].exports;var i=o[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t){"use strict";!function(){var e=function e(t){var o=this;t||(t={}),this.itemClass=t.itemClass||".hashy-item",this.itemAttr=t.itemAttr||"data-hash",this.triggerClass=t.triggerClass||".hashy-go",this.triggerAttr=t.triggerAttr||"href",this.averageSpeed=t.averageSpeed||100,this.offset=t.offset||0,e.getPosition=function(){e.ScrollOffset=window.pageYOffset||window.scrollTop,null==e.ScrollOffset&&(e.ScrollOffset=0);var t=e.Elems;t.forEach(function(t){var n=t.offsetTop+e.GlobalOffset,i=t.offsetHeight||t.clientHeight,l=window.innerHeight||document.documentElement.clientHeight;e.ScrollOffset+l>n&&e.ScrollOffset>n&&e.ScrollOffset<n+i&&t!==e.SelectedElem&&(e.SelectedElem=t,e.setHash(e.SelectedElem.getAttribute(o.itemAttr),!0))}),e.runtime=requestAnimationFrame(e.getPosition)},e.bind=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(o.triggerAttr)var l=o.triggerAttr;else var l=href;i.onclick=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,e.go(t.target.getAttribute(l),!0)}}},e.go=function(t,n){var i=document.querySelector("["+o.itemAttr+'="'+t+'"]');e.scrollTo(i,t,function(){e.setHash(t,n,function(){e.getPosition()})})},e.setHash=function(t,o,n){e.history&&o===!0&&e.Hash!=t||e.history&&o===!0&&null==e.Hash?(console.log("pushing to history"),e.history.pushState({hash:t},null,"#"+t),e.Hash=t,n&&n()):window.location.hash==="#"+t||e.Hash===t||e.history?n&&n():(e.Hash=t,window.location.hash=t,n&&n())},e.checkOffset=function(t){if("string"==typeof t)var o=e.getHeight(t);else var o=t;return o*=-1},e.getHeight=function(e){var t=document.querySelectorAll(e)[0],o=window.getComputedStyle(t).height;return o=o.replace("px"),o=parseInt(o)},e.scrollTo=function(t,n,i){if(cancelAnimationFrame(e.runtime),e.IsScrolling=!0,t.offsetTop<e.GlobalOffset*-1)var l=t.offsetTop+1;else var l=t.offsetTop+1+e.GlobalOffset;if(l>e.ScrollOffset)var r=e.ScrollOffset,s=l,a=s-r,c=function(){r<s?(r+=a/o.averageSpeed,document.body.scrollTop=r,document.documentElement.scrollTop=r):(document.documentElement.scrollTop=l,document.body.scrollTop=l,e.ScrollOffset=l,e.SelectedElem=t,clearInterval(f),e.IsScrolling=!1,i())},f=setInterval(c,1);else var r=e.ScrollOffset,s=l,a=r-s,u=function(){r>s?(r-=a/o.averageSpeed,document.body.scrollTop=r,document.documentElement.scrollTop=r):(document.documentElement.scrollTop=l,document.body.scrollTop=l,e.ScrollOffset=l,e.SelectedElem=t,clearInterval(f),e.IsScrolling=!1,i())},f=setInterval(u,1)},e.init=function(){if(e.bind(e.TriggerElems),e.history||(e.history=window.history),window.location.hash.length&&"undefined"!=window.location.hash){var t=window.location.hash.replace("#","");window.history&&(e.history=window.history),e.go(t,!1)}else e.getPosition()},e.runtime=function(){},e.Hash=null,e.Elems=[].slice.call(document.querySelectorAll(this.itemClass)),e.TriggerElems=document.querySelectorAll(this.triggerClass),e.ScrollOffset=0,e.SelectedElem=null,e.IsScrolling=null,e.GlobalOffset=e.checkOffset(this.offset);var n;e.doneResize=function(){e.GlobalOffset=e.checkOffset(o.offset),e.ScrollOffset=document.documentElement.scrollTop||document.body.scrollTop},window.onresize=function(){clearTimeout(n),n=setTimeout(e.doneResize,100)},window.onpopstate=function(t){if(t.preventDefault(),null!=t.state)e.go(t.state.hash,!1);else{var o=window.location.hash.replace("#","");e.go(o,!1)}return!1},window.onhashchange=function(e){e.preventDefault()};for(var i=0,l=["ms","moz","webkit","o"],r=0;r<l.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[l[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[l[r]+"CancelAnimationFrame"]|window[l[r]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var o=(new Date).getTime(),n=Math.max(0,16-(o-i)),l=window.setTimeout(function(){e(o+n)},n);return i=o+n,l}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)}),e.init()};window.hashy=e}()}]);