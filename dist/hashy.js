"use strict";!function(){var e=function t(e){var o=this;if(e||(e={}),this.itemClass=e.itemClass||".hashy-item",this.itemAttr=e.itemAttr||"data-hash",this.triggerClass=e.triggerClass||".hashy-go",this.triggerAttr=e.triggerAttr||"href",this.averageSpeed=e.averageSpeed||100,this.offset=e.offset||-233,t.checkElem=function(){var e=function(){var e,r;return r=0,(e=function(){o.scrollOffset=window.pageYOffset||window.scrollTop,void 0===o.scrollOffset&&(o.scrollOffset=0);var r=Array.from(o.elems);r.forEach(function(e){var r=Math.abs(e.offsetTop),s=e.offsetHeight||e.clientHeight,l=window.innerHeight||document.documentElement.clientHeight;o.scrollOffset+l>r&&o.scrollOffset>r&&o.scrollOffset<r+s&&e!==n&&(n=e,t.setHash(n.getAttribute(o.itemAttr)))}),t.runtime=requestAnimationFrame(e)})()};e()},t.setHash=function(e){return window.location.hash===e?!1:void(window.location.hash=e)},t.bind=function(e){for(var r=0;r<e.length;r++){var s=e[r];if(o.triggerAttr)var l=o.triggerAttr;else var l=href;s.onclick=function(e){e.preventDefault(),t.go(e.target.getAttribute(l))}}},t.go=function(e){var r=document.querySelector("["+o.itemAttr+'="'+e+'"]');t.scrollTo(r,e),t.setHash(e)},t.scrollTo=function(e,r){cancelAnimationFrame(t.runtime),console.log(o.averageSpeed);var s=Math.abs(e.offsetTop)+1+o.offset;if(s>o.scrollOffset)var l=o.scrollOffset,n=s,i=n-l,c=function(){n>l?(l+=i/o.averageSpeed,document.body.scrollTop=l,document.documentElement.scrollTop=l):(clearInterval(a),t.checkElem(),t.setHash(r))},a=setInterval(c,1);else var l=o.scrollOffset,n=s+o.offset,i=l-n,f=function(){l>n?(l-=i/o.averageSpeed,document.body.scrollTop=l,document.documentElement.scrollTop=l):(clearInterval(a),t.checkElem(),t.setHash(r))},a=setInterval(f,1)},t.init=function(){t.checkElem(),t.bind(o.triggerElems)},window.location.hash.length&&"undefined"!=window.location.hash){var r=window.location.hash.replace("#",""),s=document.querySelector("["+this.itemAttr+'="'+r+'"]');s.scrollIntoView();var l;l=document.body.scrollTop||document.documentElement.scrollTop,document.body.scrollTop=l+this.offset,document.documentElement.scrollTop=l+this.offset,console.log(document.body.scrollTop)}this.runtime=function(){},this.elems=document.querySelectorAll(this.itemClass),this.triggerElems=document.querySelectorAll(this.triggerClass),this.scrollOffset=0;var n=null;t.init()};window.hashy=e}();