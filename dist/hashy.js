"use strict";!function(){var e=function t(e){var r=this;if(e||(e={}),this.itemClass=e.itemClass||".hashy-item",this.itemAttr=e.itemAttr||"data-hash",this.triggerClass=e.triggerClass||".hashy-go",this.triggerAttr=e.triggerAttr||"href",this.averageSpeed=e.averageSpeed||100,this.offset=e.offset||-233,t.checkElem=function(){var e=function(){var e,o;return o=0,(e=function(){r.scrollOffset=window.pageYOffset||window.scrollTop,void 0===r.scrollOffset&&(r.scrollOffset=0);var o=Array.from(r.elems);o.forEach(function(e){var o=Math.abs(e.offsetTop),s=e.offsetHeight||e.clientHeight,n=window.innerHeight||document.documentElement.clientHeight;r.scrollOffset+n>o&&r.scrollOffset>o&&r.scrollOffset<o+s&&e!==i&&(i=e,t.setHash(i.getAttribute(r.itemAttr)))}),t.runtime=requestAnimationFrame(e)})()};e()},t.setHash=function(e){return window.location.hash===e?!1:void(window.location.hash=e)},t.bind=function(e){for(var o=0;o<e.length;o++){var s=e[o];if(r.triggerAttr)var i=r.triggerAttr;else var i=href;s.onclick=function(e){e.preventDefault(),t.go(e.target.getAttribute(i))}}},t.go=function(e){var o=document.querySelector("["+r.itemAttr+'="'+e+'"]');t.scrollTo(o,e),t.setHash(e)},t.scrollTo=function(e,o){cancelAnimationFrame(t.runtime),console.log(r.averageSpeed);var s=Math.abs(e.offsetTop)+1+r.offset;if(s>r.scrollOffset)var i=r.scrollOffset,n=s,l=n-i,a=function(){n>i?(i+=l/r.averageSpeed,document.body.scrollTop=i,document.documentElement.scrollTop=i):(clearInterval(c),t.checkElem(),t.setHash(o))},c=setInterval(a,1);else var i=r.scrollOffset,n=s+r.offset,l=i-n,f=function(){i>n?(i-=l/r.averageSpeed,document.body.scrollTop=i,document.documentElement.scrollTop=i):(clearInterval(c),t.checkElem(),t.setHash(o))},c=setInterval(f,1)},t.init=function(){t.checkElem(),t.bind(r.triggerElems)},window.location.hash.length&&"undefined"!=window.location.hash){var o=window.location.hash.replace("#",""),s=document.querySelector("["+this.itemAttr+'="'+o+'"]');s.scrollIntoView()}this.runtime=function(){},this.elems=document.querySelectorAll(this.itemClass),this.triggerElems=document.querySelectorAll(this.triggerClass),this.scrollOffset=0;var i=null;t.init()};window.hashy=e}();